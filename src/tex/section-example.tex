\sectionwithlogo{Пример}{\includeMPgraphics{figure-example}}

\begin{frame}{Пример: шаг за шагом}
\only<1>{\begin{center}
\includeMPgraphics{figure-example}
\end{center}}

\only<2>{Эта команда начинает рисунок №~1:
\begin{programlisting}
beginfig(1)
\end{programlisting}}

\only<3>{Определяем 6~точек на плоскости с~помощью уравнений:
\begin{programlisting}
z1=(-.5cm, 0);\par
z2=(4cm, 0);\par
z3=(0, -.5cm);\par
z4=(0, 5.5cm);\par
z5=(3cm, 4cm);\par
z6=(2cm, 3cm);
\end{programlisting}}%

\only<4>{%
\begin{columns}
\column{.4\textwidth}
\includeMPgraphics{figure-example-1}
\column{.6\textwidth}
Рисуем координатные оси:
\begin{programlisting}
drawarrow z1--z2;\par
drawarrow z3--z4;
\end{programlisting}
\end{columns}}%
%
\only<5>{%
\begin{columns}
\column{.4\textwidth}
\includeMPgraphics{figure-example-2}%
\column{.6\textwidth}
Рисуем сплошной синий круг диаметром $1$~см:
\begin{programlisting}
fill fullcircle\par
~~~~scaled 1cm\par
~~~~shifted z5\par
~~~~withcolor blue;
\end{programlisting}
\end{columns}}%
%
\only<6>{%
\begin{columns}
\column{.4\textwidth}%
\includeMPgraphics{figure-example-3}%
\column{.6\textwidth}%
Рисуем контурную зелёную окружность диаметром $2$~см:
\begin{programlisting}
draw fullcircle\par
~~~~scaled 2cm\par
~~~~shifted z6\par
~~~~withcolor green;
\end{programlisting}
\end{columns}}%
%
\only<7>{%
\begin{columns}
\column{.3\textwidth}%
\includeMPgraphics{figure-example}%
\column{.7\textwidth}%
Наносим надписи (метки):
\begin{programlisting}
label.bot(btex \$x\$ etex, z2);\par
label.lft(btex \$y\$ etex, z4);
\end{programlisting}
\end{columns}}%
%
\only<8>{Завершаем рисунок:
\begin{programlisting}
endfig
\end{programlisting}
Завершаем программу:
\begin{programlisting}
bye.
\end{programlisting}}%
\end{frame}

\begin{frame}{Пример: шаг за шагом}
Теперь записываем текст программы в~файл (например, \nolinkurl{example.mp}):
\begin{screen}
\prompt{\% }\userinput{vim example.mp}
\end{screen}

\uncover<2->{Запускаем компилятор:
\begin{screen}
\prompt{\% }\userinput{mpost example.mp}\par}
\uncover<3->{%
\only<1-3>{This is MetaPost, version 2.02 (TeX Live 2022/TeX Live)\par
(example.mp [1] )\par
1 output file written: example.1\par
Transcript written on example.log.}%
\only<4>{Это MetaPost, версия 2.02 (TeX Live 2022/TeX Live)\par
(example.mp [1] )\par
Записан 1 выходной файл: example.1\par
Протокол записан в example.log.}}%
\end{screen}

\uncover<3->{{\Huge Всё готово!}}%
\transdissolve<4>
\end{frame}

\begin{frame}{Результат компиляции}
В~результате компиляции файла \nolinkurl{example.mp} получаются файлы
\nolinkurl{example.1}, \nolinkurl{example.2},~…~— для каждой команды
\literal{beginfig(1)}, \literal{beginfig(2)},~…

В~этих файлах содержится графика в~формате PostScript.

Кроме того, записывается файл протокола \nolinkurl{example.log}
с~подробностями процесса компиляции.
\end{frame}
